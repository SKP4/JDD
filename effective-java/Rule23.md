# Rule 23 - 새 코드에는 무인자 자료형 제네릭을 사용하지 마라

> 무인자 자료형을 쓰면 형 안전성이 사라지고, 제네릭의 장점중 하나인 표현력 측면에서 손해를 보게 된다. 

## 1. 제네릭 자료형을 쓰고 싶으나, 실제 형인자를 모를 경우에는 비한정적 와일드카드 자료형 ? 을 사용할 수 있다

```java
Set<?>
```

(참고: `Collection<?>` 에는 `null` 이외의 어떤 원소도 넣을 수 없다.)

## 2. 무인자 자료형을 사용해야만 하는 경우

(1) 클래스 리터럴에는 반드시 무인자 자료형을 사용해야 한다.

`List.class`, `String[].class` 는 가능하지만 `List<String>.class`, `List<?>.class` 는 불가능하다.


(2) `instanceOf` 를 사용할 경우에도 무인자 자료형을 사용하는 편이 낫다.

비한정적 형인자 자료형을 사용할 수 있지만, 어차피 형을 모르므로 별 의미가 없다.

```java
if (o instanceof Set) {
    Set<?> m = (Set<?>) o;
    ...
    ...
}
```


## 용어 정리

- 재귀적 형 한정(recursive type bound) `<T extends Comparable<T>>`



