# Rule 37 - 자료형을 정의할때는 표식 어노테이션 대신 표식 인터페이스를 사용해라

- **표식 인터페이스(Marker Interface)** 의 예: `Serializable`. 아무일도 하지 않지만, 이 인터페이스 임을 보고 `OutputObjectStream` 객체가 처리. 
다만 설계상의 오류는, `write` 함수가 `Serializable` 인터페이스가 아니라 `Object` 를 인자로 받음.

## 표식 인터페이스 vs 표식 어노테이션

1. 표식 인터페이스는 결국 표식 붙은 클래스가 만드는 객체들이 구현하는 자료형이다. **표식 어노테이션은 자료형이 아니다**. 따라서 표식 어노테이션을 쓴다면, 
프로그램 실행 중에나 발견하게 될 오류를 컴파일 시점에 발견할 수 있다.

2. 표식 어노테이션은 적용 범위를 세밀하게 지정할 수 있다. `@Target`

## 표식 인터페이스 예제 : Set

`Set` 인터페이스는 **제한적 표식 인터페이스(restricted marker interface)** 라 볼 수 있다. `Collection` 에 정의된 메소드 이외의 다른 메소드를 추가로 정의하지 않는다. 
다만 **제한적** 이라 불리는 이유는 `add`, `equals`, `hashCode` 등의 `Collection` 메서드의 일반 규약(**contract**) 를 변경하기 때문이다.

## 표식 어노테이션

표식 어노테이션의 주된 장점은 프로그램 안에서 어노테이션을 쓰기 시작한 뒤에도 더 많은 정보를 추가할 수 있다는 점이다. 반면 표식 인터페이스를 쓰는 경우에는 
이런 진화가 불가능하다. 일단 구현이 이루어진 다음에는 새로운 메서드를 추가하는것이 일반적으로는 불가능하기 때문이다.

## 언제 써야 할까?

1. 클래스나 인터페이스에 적용될 표식이 아니면, 어노테이션을 써야 한다.

2. 클래스나 인터페이스에 적용될 것이라면, 

- 새로운 메서드가 없는 자료형을 정의하려면 표식 인터페이스를 정의해야 한다. 
- 앞으로 표식에 더 많은 정보를 추가해야 한다면, 표식 어노테이션을 사용해야 한다.

`ElementType.TYPE` 으로 `@Target` 을 지정한다면, 위 두 조건을 다시 한번 고민해 봐야 한다.
 
 

